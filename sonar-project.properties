# SonarQube configuration for Rally Extension
# This file excludes component files from analysis to focus on business logic

# Project identification
sonar.projectKey=NEI-AAUAV_Platform-rally-extension
sonar.projectName=Rally Extension
sonar.projectVersion=1.0.0
sonar.organization=nei-aauav

# Source code directories
sonar.sources=api-rally/app,web-rally/src
sonar.tests=api-rally/app/tests,web-rally/tests

# Language-specific settings
sonar.python.version=3.12
sonar.javascript.lcov.reportPaths=web-rally/coverage/lcov.info
sonar.python.coverage.reportPaths=api-rally/coverage.xml
sonar.python.xunit.reportPath=api-rally/test-results.xml

# Exclusions - Focus on business logic, exclude UI components
sonar.exclusions=\
  **/components/ui/**,\
  **/components/shared/**,\
  **/components/themes/**,\
  **/client/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/*.config.*,\
  **/vite-env.d.ts,\
  **/__pycache__/**,\
  **/migrations/**,\
  **/alembic/**

# Test exclusions
sonar.test.exclusions=\
  **/components/ui/**,\
  **/components/shared/**,\
  **/components/themes/**,\
  **/client/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**

# Coverage exclusions
sonar.coverage.exclusions=\
  **/components/ui/**,\
  **/components/shared/**,\
  **/components/themes/**,\
  **/client/**,\
  **/test/**,\
  **/tests/**,\
  **/__pycache__/**,\
  **/migrations/**,\
  **/alembic/**,\
  **/main.py,\
  **/conftest.py

# Duplication exclusions
sonar.cpd.exclusions=\
  **/components/ui/**,\
  **/components/shared/**,\
  **/components/themes/**,\
  **/client/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**

# Focus on critical files for analysis
sonar.inclusions=\
  **/api-rally/app/api/**,\
  **/api-rally/app/crud/**,\
  **/api-rally/app/models/**,\
  **/api-rally/app/schemas/**,\
  **/api-rally/app/utils/**,\
  **/api-rally/app/core/**,\
  **/web-rally/src/utils/**,\
  **/web-rally/src/hooks/**,\
  **/web-rally/src/stores/**,\
  **/web-rally/src/services/**

# Quality gate settings
sonar.qualitygate.wait=true

# Additional settings
sonar.sourceEncoding=UTF-8
sonar.python.pylint.reportPaths=api-rally/pylint-report.txt
sonar.javascript.eslint.reportPaths=web-rally/eslint-report.json